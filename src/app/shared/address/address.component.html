<form [formGroup]="userSettings" class="w-50 mx-auto p-3 border-light border-2 shadow my-2">
    <div formGroupName="address">
        @for (addressGroup of addressArray.controls; track $index) {
        <div [formGroupName]="$index" class="row mb-3">
            <h4 class="text-capitalize link-underline"> <i class="bi bi-signpost-split-fill"></i>
                address-{{$index+1}}</h4>
            <div class="mb-2 col-12 col-md-6">
                <label>
                    Street:</label>
                <input class="form-control" formControlName="street" type="text">
            </div>


            <div class="mb-2 col-12 col-md-6">
                <label>City:</label>
                <input class="form-control" formControlName="city" type="text">
            </div>

            <div class="mb-2 col-12 col-md-6">
                <label>State:</label>
                <input class="form-control" formControlName="state" type="text">
            </div>


            <div class="mb-2 col-12 col-md-6">
                <label>ZIP:</label>
                <input class="form-control" formControlName="zip" type="text">
            </div>

            <div class="mb-2 col-12">
                <div class="form-floating">
                    <textarea class="form-control" formControlName="details" placeholder="Leave a comment here"
                        id="floatingTextarea2" style="height: 100px"></textarea>
                    <label for="floatingTextarea2">Details</label>
                </div>
            </div>

            @if($index != 0){
            <button class="btn btn-danger my-2" (click)="removeAddress($index)">Remove Address {{$index+1}}</button>
            }
        </div>

        }
    </div>
    <button class="btn btn-success d-block" (click)="addAddress()">add another address</button>
    <button type="submit" class="btn btn-primary d-block ms-auto">Submit</button>
</form>